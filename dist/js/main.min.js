"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function checkMediaQuery(){screenSize<md?$(".navigation__head").prepend($("#searchForm")):$(".header__search").prepend($("#searchForm")),screenSize<sm&&$(".productRequest").click(function(){$("#productRequestModal").modal({fadeDuration:300})})}function heroBannerAnimation(){var e=$(".hero-banner__info > *"),t=$(".hero-banner__image");if(gsap.registerPlugin(ScrollTrigger),screenSize>md){gsap.timeline().from(e,{x:-200,duration:.5,opacity:0,stagger:.1}).from(t,{x:200,duration:.5,opacity:0,delay:-.3})}}function slideRestimons(){function e(){t.removeClass("active previous"),$(t[a]).addClass("active"),$(t[n]).addClass("previous"),n=a,a=(a+1)%t.length,setTimeout(function(){$(t[n]).removeClass("previous")},i)}var t=$(".restimons-builder__image img"),i=1e3,a=0,n=t.length-1;setInterval(e,1500)}function restimonsParallax(){var e=$(".restimons-builder__info > *").not(".restimons-builder__image"),t=$(".restimons-builder__image"),i=$(".restimons-builder").height(),a=$(".restimons-builder");console.log(i),gsap.registerPlugin(ScrollTrigger),screenSize>md&&(gsap.from(t,{y:-i,duration:10,ease:"none",scrollTrigger:{trigger:a,start:"top bottom",end:"bottom bottom",scrub:!0}}),gsap.from(e,{x:-100,opacity:0,duration:.3,stagger:.2,scrollTrigger:{trigger:a,start:"top center",end:"bottom bottom"}}))}function initParallaxMozaik(){$(".chaykin-mozaik-section").mousemove(function(e){var t=$(".chaykin-mozaik-section")[0].getBoundingClientRect(),i=t.left,a=t.top,n=window.scrollX||document.documentElement.scrollLeft,o=window.scrollY||document.documentElement.scrollTop,r=e.pageX-(i+n),s=e.pageY-(a+o);gsap.to(".chaykin-mozaik__image",{"--x":"".concat(r,"px"),"--y":"".concat(s,"px"),duration:1,ease:"power1.out"})})}function initNewItemsAnimation(){var e=$(".new-items-list__item"),t=$(".new-items-section"),i=$(".new-items-section .full-title__image");if(gsap.registerPlugin(ScrollTrigger),screenSize>md){gsap.timeline({scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top"}}).from(i,{y:600,duration:1}).from(e,{y:300,duration:1,opacity:0,stagger:.05,ease:"power2.out"})}}function openPreview(){var e=$(".new-items-section"),t=$(".new-items-preview"),i=0,a=0;$(".new-items-list__item").on("click",function(n){if(screenSize>lg){n.preventDefault(),$(".new-items-preview__item").hide(),$(".new-items-preview__item").eq($(this).index()).show();var o=e.offset();i=n.pageX-o.left,a=n.pageY-o.top,t.css("visibility","visible"),gsap.fromTo(t,{clipPath:"circle(0 at ".concat(i,"px ").concat(a,"px)"),ease:"none",duration:1},{clipPath:"circle(150% at ".concat(i,"px ").concat(a,"px)"),ease:"none",duration:1})}}),$(".new-items-preview__close").on("click",function(){console.log(i,a),gsap.fromTo(t,{clipPath:"circle(150% at ".concat(i,"px ").concat(a,"px)"),ease:"none",duration:1},{clipPath:"circle(0% at ".concat(i,"px ").concat(a,"px)"),ease:"none",duration:1})})}function masterParallax(){var e=$(".master-parallax"),t=$(".master-parallax__image"),i=$(".master-parallax .full-title"),a=$(".master-parallax .full-title__image");gsap.registerPlugin(ScrollTrigger),screenSize>md&&(gsap.from(t,{y:-600,duration:1,scrollTrigger:{trigger:e,start:"top bottom",end:"bottom center",scrub:!0}}),gsap.from(a,{y:300,duration:1,scrollTrigger:{trigger:i,start:"top bottom",end:"bottom bottom-=200",scrub:!0}}))}var headerHeight=$(".header").height(),screenSize=window.innerWidth,md=768,sm=576,lg=992,currentSlide=0,getScrollbarWidth=function(){return window.innerWidth-document.documentElement.clientWidth};$("body").css({"--sw":getScrollbarWidth()+"px"}),window.addEventListener("resize",function(){screenSize=window.innerWidth,checkMediaQuery()});var heroSlider=new Swiper(".hero-slider",{loop:!0,speed:1e3,effect:"creative",autoplay:{delay:15e3},creativeEffect:{prev:{opacity:0,rotate:[0,0,-5]},next:{opacity:0,scale:1.2,rotate:[0,0,5]}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".hero-prev",nextEl:".hero-next"}}),photoCarusel=new Swiper(".photo-carusel",{slidesPerView:"auto",spaceBetween:10,pagination:{el:".photo-carusel-nav__pagination",clickable:!0},navigation:{prevEl:".photo-carusel-nav__prev",nextEl:".photo-carusel-nav__next"},breakpoints:{768:{slidesPerView:3,spaceBetween:20}}});$().fancybox({selector:'[data-fancybox="gallery"]',hideScrollbar:!1,thumbs:!1,beforeClose:function(e){console.info(e.currIndex),photoCarusel.slideTo(e.currIndex,0)}});var photoSlider=new Swiper(".photo-slider",{slidesPerView:"auto",spaceBetween:15,pagination:{el:".photo-carusel-nav__pagination",clickable:!0},navigation:{prevEl:".photo-carusel-nav__prev",nextEl:".photo-carusel-nav__next"},breakpoints:{768:_defineProperty({slidesPerView:1,spaceBetween:0},"spaceBetween",30)}}),dateCarusel=new Swiper(".date-list",{slidesPerView:"auto",freeMode:!0,spaceBetween:0,mousewheel:!0}),inventSlider=new Swiper(".invent-modal-slider",{slidesPerView:1,spaceBetween:0,loop:!0,pagination:{el:".photo-carusel-nav__pagination",clickable:!0},navigation:{prevEl:".photo-carusel-nav__prev",nextEl:".photo-carusel-nav__next"}});$(document).on("click",".date-list .swiper-slide",function(e){e.preventDefault(),$(".date-list__item").removeClass("date-list__item_active"),$(this).find(".date-list__item").addClass("date-list__item_active");var t=$(this).attr("cont");$.get("",{year:t},function(e){$(".manuf-history, .expand-history").fadeOut("normal",function(){$(".manuf-history, .expand-history").remove(),$(e).insertAfter(".date-list")})}),$(this).index()>currentSlide?(dateCarusel.slideTo($(this).index(),300),currentSlide=$(this).index()):(dateCarusel.slideTo($(this).index()-1,300),currentSlide=$(this).index())});var storesCarusel=new Swiper(".stores-carusel",{slidesPerView:"auto",spaceBetween:20,pagination:{el:".photo-carusel-nav__pagination",clickable:!0},navigation:{prevEl:".photo-carusel-nav__prev",nextEl:".photo-carusel-nav__next"},breakpoints:{768:{slidesPerView:2}}});$(window).scroll(function(){$(window).scrollTop()>=headerHeight?$(".header").addClass("header_scrolled"):$(".header").removeClass("header_scrolled")}),$(".header-burger").click(function(){$(this).toggleClass("header-burger_active"),$("body").toggleClass("lock"),$(".header").toggleClass("header_open"),$("#menu").fadeToggle(200),$(this).hasClass("header-burger_active")?$(".header-burger__text").text("закрыть"):$(".header-burger__text").text("меню")}),$(".language-select__current").click(function(){$(".language-select__drop").slideToggle(200)}),$(".main-nav__link_has-sub").click(function(){if(screenSize<md)return $(this).next().slideToggle(),!1}),$(document).click(function(e){var t=$("#searchForm"),i=$("#searchOpen");1===i.has(e.target).length&&screenSize>md&&t.fadeIn(300),0===t.has(e.target).length&&0===i.has(e.target).length&&screenSize>md&&t.fadeOut(300)}),$(".header__search-input").on("paste keyup",function(){$(this).val().length>=1?$(".header__search-drop").fadeIn(200):$(".header__search-drop").fadeOut(200)}),checkMediaQuery(),$(".text-reveal-anim").each(function(){var e=$(this),t=e.text().trim(),i=t.split(/\s+/);e.empty(),i.forEach(function(t){var i=$("<span/>").text(t);e.append(i).append(" ")}),gsap.registerPlugin(ScrollTrigger),screenSize>md&&gsap.to(".text-reveal-anim span",{duration:.3,opacity:1,ease:"none",stagger:.1,scrollTrigger:{trigger:e,start:"top 100%",end:"bottom 70%",scrub:!0}})}),$(".expand-vacation").click(function(){var e=$(this),t=e.closest(".vacancy-item").find(".vacancy-item__full");return t.is(":visible")?e.html('Подробнее <i class="icon icon-arrow-down"></i>'):e.html('Свернуть <i class="icon icon-arrow-down" style="transform: rotateX(180deg)"></i>'),t.slideToggle(300),!1}),$(document).on("click",".expand-history",function(){$(".manuf-history").toggleClass("manuf-history_all"),$(".manuf-history").hasClass("manuf-history_all")?$(this).html('Скрыть <i class="icon icon-arrow-down" style="transform: rotateX(180deg)"></i>'):$(this).html('Показать ещё <i class="icon icon-arrow-down" ></i>')}),$(document).on("click",".expand-series-text",function(){$(".series-text__collapse").toggleClass("series-text__collapse_full"),$(".series-text__collapse").hasClass("series-text__collapse_full")?$(this).html('Скрыть <i class="icon icon-arrow-down" style="transform: rotateX(180deg)"></i>'):$(this).html('Показать ещё <i class="icon icon-arrow-down" ></i>')}),$(".faq-accordion__title").click(function(){$(this).toggleClass("faq-accordion__title_active"),$(this).next().slideToggle(300)}),$(".sorting__btn").click(function(){$(".sorting__drop").fadeToggle(200)}),$(".sorting__option").click(function(){var e=$(this).find(".sorting__value").text().trim();$(".sorting__current").text(e),$(".sorting__drop").fadeOut(200)}),$(document).click(function(e){$(".sorting__drop")}),$("#addCart").click(function(){$("#cart").modal({fadeDuration:300,showClose:!1})}),$("#showParams").click(function(){$("#techModal").modal({fadeDuration:300})}),$(document).on("click",".requestVacancy",function(e){return $("#vacancyModal").find("#VACANCY").val($(this).attr("val")),$("#vacancyModal").modal({fadeDuration:300}),!1}),$(".queueModalOpen").click(function(){return $("#queueModal").modal({fadeDuration:300}),!1}),$(".feedBackModalOpen").click(function(){return $("#feedBackModal").modal({fadeDuration:300}),!1}),$(".feedBackModalOpen").click(function(){return $("#feedBackModal").modal({fadeDuration:300}),!1}),$(".openVideoModal").click(function(){return $("#videoModal").modal({fadeDuration:300}),!1}),$("#formSuccessModal").modal({fadeDuration:300}),$(".media-card").click(function(){$("#inventModal").modal({fadeDuration:300})}),$("#codeModal").modal(),$(".toJoinClub").click(function(){var e=$(this).attr("attr-modal");$("#".concat(e)).modal({fadeDuration:300})}),$(".с-select select").select2({width:"style",minimumResultsForSearch:1/0,dropdownParent:$(".с-select")}).on("select2:select",function(e){$(e.target).parent(".с-select").find(".с-select__label").addClass("с-select__label_choised")}),$("input[name='payment']").change(function(){$("#card").is(":checked")?$(".checkout__pay-card-form").slideDown():$(".checkout__pay-card-form").slideUp()}),$(".order-item__title").click(function(){$(this).next().slideToggle()});var phoneInput=document.querySelector("#phone");phoneInput&&window.intlTelInput(phoneInput,{initialCountry:"RU",strictMode:!0,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/23.0.10/js/utils.min.js"}),heroBannerAnimation(),slideRestimons(),restimonsParallax(),initParallaxMozaik(),initNewItemsAnimation(),openPreview(),masterParallax(),$(".button").each(function(){$(this).html('<span class="button__text">'+$(this).html()+"</span>")});